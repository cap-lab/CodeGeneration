<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<CIC_Algorithm xmlns="http://peace.snu.ac.kr/CICXMLSchema">
    <tasks>
        <task name="sender">
            <subtask name="task" file="sender.cic">
                <port sampleSize="4" rate="1" name="port0" direction="output"/>
            </subtask>
        </task>
        <task name="relay">
            <subtask name="task" file="relay.cic">
                <port sampleSize="4" rate="1" name="port0" direction="input"/>
                <port sampleSize="4" rate="1" name="port1" direction="output"/>
            </subtask>
        </task>
        <task name="recv">
            <subtask name="task" file="recv.cic">
                <port sampleSize="4" rate="1" name="port1" direction="input"/>
            </subtask>
        </task>
    </tasks>
    <channels>
        <channel type="fifo" size="1000000">
            <src task="sender" subtask="task" port="port0"/>
            <dst task="relay" subtask="task" port="port0"/>
        </channel>
        <channel type="fifo" size="11">
            <src task="relay" subtask="task" port="port1"/>
            <dst task="recv" subtask="task" port="port1"/>
        </channel>
    </channels>
    <modes>
        <mode name="mode0">
            <task priority="1" name="sender">
                <period value="1" metric="s"/>
                <deadline value="1" metric="s"/>
            </task>
            <task priority="1" name="relay">
                <period value="2" metric="s"/>
                <deadline value="1" metric="s"/>
            </task>
            <task priority="1" name="recv">
                <period value="4" metric="s"/>
                <deadline value="1" metric="s"/>
            </task>
        </mode>
    </modes>
</CIC_Algorithm>

